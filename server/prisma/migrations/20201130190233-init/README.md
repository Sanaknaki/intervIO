# Migration `20201130190233-init`

This migration has been generated by Ali Sanaknaki at 11/30/2020, 2:02:33 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "Application" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "position" TEXT NOT NULL,
    "company" TEXT NOT NULL,
    "website" TEXT NOT NULL,
    "status" TEXT NOT NULL,
    "postedById" INTEGER,
    "interviewRounds" INTEGER NOT NULL DEFAULT 0,

    FOREIGN KEY ("postedById") REFERENCES "User"("id") ON DELETE SET NULL ON UPDATE CASCADE
)

CREATE TABLE "User" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "name" TEXT NOT NULL,
    "email" TEXT NOT NULL,
    "password" TEXT NOT NULL
)

CREATE UNIQUE INDEX "User.email_unique" ON "User"("email")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20201130190233-init
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,28 @@
+generator client {
+  provider = "prisma-client-js"
+}
+
+datasource db {
+  provider = "sqlite"
+  url = "***"
+}
+
+model Application {
+  id              Int      @id @default(autoincrement())
+  createdAt       DateTime @default(now())
+  position        String
+  company         String
+  website         String
+  status          String
+  postedById      Int?
+  interviewRounds Int      @default(0)
+  postedBy        User?    @relation(fields: [postedById], references: [id])
+}
+
+model User {
+  id           Int           @id @default(autoincrement())
+  name         String
+  email        String        @unique
+  password     String
+  applications Application[]
+}
```


